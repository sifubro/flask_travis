
<!-- saved from url=(0075)https://blog.travis-ci.com/2019-08-07-extensive-python-testing-on-travis-ci -->
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
<meta name="viewport" content="width=device-width, initial-scale=1">

<title>The Travis CI Blog: Extensive Python Testing on Travis CI</title>

<link href="./The Travis CI Blog_ Extensive Python Testing on Travis CI_files/style.css" rel="stylesheet">
<link href="./The Travis CI Blog_ Extensive Python Testing on Travis CI_files/main.css" rel="stylesheet">
<link rel="alternate" type="application/atom+xml" href="https://blog.travis-ci.com/blog.xml">

<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Extensive Python Testing on Travis CI">
<meta name="twitter:site" content="@travisci">
<meta name="twitter:creator" content="@">
<meta name="twitter:description" content="Say you have an open source Python project or package you are maintaining. You probably want to test it on the major Python versions that are currently in wide use. You definitely should. In some c...">
<meta name="twitter:url" content="https://blog.travis-ci.com/2019-08-07-extensive-python-testing-on-travis-ci">
<meta name="twitter:domain" content="blog.travis-ci.com">



<script type="text/javascript" async="" src="./The Travis CI Blog_ Extensive Python Testing on Travis CI_files/dtjzv6xw"></script><script async="" src="./The Travis CI Blog_ Extensive Python Testing on Travis CI_files/gtm.js.download"></script><script type="text/javascript" async="" src="./The Travis CI Blog_ Extensive Python Testing on Travis CI_files/ga.js.download"></script><script src="./The Travis CI Blog_ Extensive Python Testing on Travis CI_files/prism.min.js.download" defer="" async=""></script>
<script src="./The Travis CI Blog_ Extensive Python Testing on Travis CI_files/jquery-3.2.1.min.js.download" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
<script type="text/javascript" defer="">
 var _gaq = _gaq || [];
 _gaq.push(['_setAccount', 'UA-24868285-7']);
 _gaq.push(['_trackPageview']);

 (function() {
   var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
   ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
   var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
 })();
</script>

<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-WKPPSMB');</script>
<!-- End Google Tag Manager -->

  </head>
  <body>
    <!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-WKPPSMB"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->
    <div class="layout-wrapper">
      <header class="topbar" role="banner">
  <div class="layout-inner">
    <h1 class="logo">
      <a href="https://travis-ci.com/" title="Travis CI">
      <svg width="100" height="22" xmlns="http://www.w3.org/2000/svg" version="1.1" id="Layer_1" x="0px" y="0px" viewBox="0 0 100.266 22" enable-background="new 0 0 100.266 22" space="preserve">
  <path fill="#9d9d9d" d="M5.759,4.603H0V1.635h15.021v2.967H9.295v16.833H5.759V4.603z"></path>
  <path fill="#9d9d9d" d="M14.709,6.57h2.894l0.245,2.633h0.123c1.064-1.936,2.649-2.995,4.237-2.995c0.76,0,1.247,0.09,1.705,0.301 l-0.61,3.028c-0.518-0.152-0.914-0.242-1.554-0.242c-1.188,0-2.62,0.817-3.534,3.059v9.082h-3.504V6.57H14.709z"></path>
  <path fill="#9d9d9d" d="M33.481,11.93c-0.032-1.574-0.702-2.907-2.713-2.907c-1.492,0-2.895,0.665-4.205,1.452l-1.281-2.331 c1.646-1.03,3.748-1.937,6.125-1.937c3.75,0,5.578,2.271,5.578,6.417v8.812H34.12l-0.272-1.634h-0.094 c-1.34,1.12-2.864,1.998-4.631,1.998c-2.622,0-4.45-1.758-4.45-4.36C24.673,14.26,27.355,12.595,33.481,11.93z M30.219,19.075 c1.22,0,2.165-0.605,3.263-1.636v-3.33c-4.056,0.516-5.396,1.574-5.396,3.059C28.085,18.499,28.97,19.075,30.219,19.075z"></path>
  <path fill="#9d9d9d" d="M37.988,6.57h3.566l2.376,7.721c0.396,1.453,0.854,2.967,1.249,4.48h0.123 c0.428-1.515,0.853-3.027,1.28-4.48l2.376-7.721h3.384l-5.089,14.866h-4.054L37.988,6.57z"></path>
  <path fill="#9d9d9d" d="M53.655,1.999C53.655,0.817,54.569,0,55.817,0c1.25,0,2.164,0.817,2.164,1.999 c0,1.15-0.914,1.968-2.164,1.968C54.569,3.966,53.655,3.148,53.655,1.999z M54.051,6.57h3.505v14.866h-3.505V6.57z"></path>
  <path fill="#9d9d9d" d="M61.21,17.501c1.341,1.026,2.62,1.664,4.144,1.664c1.617,0,2.377-0.757,2.377-1.785 c0-1.243-1.613-1.789-3.201-2.394c-1.979-0.728-4.202-1.848-4.202-4.327c0-2.607,2.102-4.452,5.454-4.452 c2.071,0,3.75,0.848,4.967,1.786l-1.614,2.119c-1.036-0.756-2.102-1.271-3.291-1.271c-1.495,0-2.194,0.696-2.194,1.634 c0,1.151,1.493,1.636,3.106,2.21c2.044,0.758,4.298,1.728,4.298,4.513c0,2.542-2.042,4.603-5.819,4.603 c-2.041,0-4.207-0.878-5.668-2.061L61.21,17.501z"></path>
  <path fill="#9d9d9d" d="M88.242,1.272c2.436,0,4.418,1.18,5.667,2.512l-1.95,2.181c-1.036-1-2.162-1.635-3.688-1.635 c-3.263,0-5.607,2.726-5.607,7.176c0,4.512,2.164,7.234,5.483,7.234c1.77,0,3.077-0.725,4.207-1.965l1.949,2.148 c-1.614,1.846-3.685,2.876-6.216,2.876c-5.06,0-9.05-3.636-9.05-10.204C79.038,5.117,83.121,1.272,88.242,1.272z"></path>
  <path fill="#9d9d9d" d="M96.467,1.635H100v19.801h-3.533V1.635z"></path>
</svg>
      </a>
    </h1>

    <nav class="navigation">
      <ul class="navigation-list">
        <li><a href="https://blog.travis-ci.com/" title="Travis CI blog" class="navigation-anchor">Blog</a></li>
        <li><a href="https://about.travis-ci.com/" title="About Travis CI" class="navigation-anchor">About Us</a></li>
        <li><a href="https://enterprise.travis-ci.com/" title="Travis CI Enterprise" class="navigation-anchor">Travis CI Enterprise</a></li>
      </ul>
    </nav>
  </div>
</header>


      <main class="layout-main" role="main">
        

<div class="layout-inner blog-layout">
  <form action="https://blog.travis-ci.com/search" method="get" class="search">
  <input type="search" id="search-query" name="q" placeholder="Search" autocomplete="off" required="true">
</form>

  <nav class="blog-nav">
  <ul>
    <li>
      <a href="https://blog.travis-ci.com/" class="">
        <svg width="15" height="15" class="nav-icon" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" viewBox="0 0 16.2 17.4">
  <circle cx="8.2" cy="10.2" r="6.5"></circle>
  <polyline points="8,6.2 8,10.2 10.5,11.8"></polyline>
  <path d="M14.6,1.8l-1.1-0.7c-0.9-0.6-2.2-0.4-2.7,0.5c-0.2,0.2-0.2,0.5-0.3,0.8c0.7,0.2,1.4,0.5,2,0.9c0.8,0.5,1.5,1.2,2,1.9c0.3-0.1,0.6-0.3,0.8-0.6C15.9,3.6,15.5,2.4,14.6,1.8z"></path>
  <path d="M1.7,1.8l1.1-0.7c1-0.6,2.2-0.4,2.8,0.4C5.7,1.8,5.8,2,5.8,2.3c-0.7,0.2-1.4,0.5-2,0.9C3,3.8,2.3,4.4,1.7,5.1 C1.4,5,1.2,4.8,1,4.5C0.4,3.6,0.7,2.4,1.7,1.8z"></path>
  <line x1="4.4" y1="4.8" x2="3.6" y2="3.5"></line>
  <line x1="12.6" y1="3.6" x2="11.9" y2="4.6"></line>
</svg>
        Latest</a></li>
    <li>
      <a href="https://blog.travis-ci.com/category/news/" class="">
        <svg width="15" height="15" class="nav-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15 21.625">
  <g>
    <circle cx="7.503" cy="6.733" r="1.775"></circle>
    <path d="M8.303 8.508l5.324 12.698-8.899-6.765"></path>
    <path class="path" d="M6.828 8.508l-5.3 12.698 8.899-6.765M7.5 8.508v12.165"></path>
  </g>
  <g>
    <path d="M2.454 11.81A6.936 6.936 0 0 1 .5 6.981C.5 4.045 2.312 1.54 4.875.5M12.668 11.668A6.919 6.919 0 0 0 14.5 6.981c0-2.936-1.812-5.441-4.375-6.481"></path>
  </g>
  <g>
    <path class="path" d="M3.751 9.161a4.318 4.318 0 0 1-.628-2.239A4.373 4.373 0 0 1 5.858 2.87M11.339 8.986a4.285 4.285 0 0 0 .537-2.064A4.373 4.373 0 0 0 9.141 2.87"></path>
  </g>
</svg>
        News</a></li>
    <li>
      <a href="https://blog.travis-ci.com/category/support/" class="">
        <svg width="15" height="15" class="nav-icon" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" viewBox="0 0 17.3 16.7">
  <ellipse transform="matrix(0.7071 -0.7071 0.7071 0.7071 -3.4424 8.5832)" cx="8.6" cy="8.4" rx="7.4" ry="7.4"></ellipse>
  <ellipse transform="matrix(0.7071 -0.7071 0.7071 0.7071 -3.4424 8.5832)" cx="8.6" cy="8.4" rx="3.7" ry="3.7"></ellipse>
  <path d="M10.7,5.3v-4c-1.3-0.4-2.7-0.4-4.1,0v4C7.8,4.5,9.4,4.5,10.7,5.3z"></path>
  <path d="M10.7,15.6v-4c-1.2,0.8-2.8,0.8-4.1,0v4C7.9,16,9.3,16,10.7,15.6z"></path>
  <path d="M11.8,10.5h4c0.4-1.3,0.4-2.7,0-4.1h-4C12.6,7.6,12.6,9.2,11.8,10.5z"></path>
  <path d="M5.5,6.4h-4c-0.4,1.3-0.4,2.7,0,4.1h4C4.7,9.2,4.7,7.6,5.5,6.4z"></path>
  <path d="M16.1,2.3l-0.9-0.9c-0.7-0.7-1.9-0.8-2.5-0.1c-0.2,0.2-0.3,0.4-0.4,0.6c0.6,0.3,1.1,0.7,1.6,1.2 c0.6,0.6,1.1,1.3,1.5,2.1c0.3-0.1,0.6-0.2,0.8-0.4C16.8,4.2,16.8,3,16.1,2.3z"></path>
  <path d="M1.2,2.3l0.9-0.9c0.7-0.7,1.9-0.8,2.5-0.1C4.8,1.5,4.9,1.7,5,2C4.4,2.3,3.9,2.7,3.4,3.2 C2.7,3.8,2.3,4.5,1.9,5.3C1.6,5.2,1.3,5.1,1.1,4.8C0.4,4.2,0.5,3,1.2,2.3z"></path>
  <path d="M16.1,14.6l-0.9,0.9c-0.7,0.7-1.9,0.8-2.5,0.1c-0.2-0.2-0.3-0.4-0.4-0.6c0.6-0.3,1.1-0.7,1.6-1.2 c0.6-0.6,1.1-1.3,1.5-2.1c0.3,0.1,0.6,0.2,0.8,0.4C16.8,12.7,16.8,13.9,16.1,14.6z"></path>
  <path d="M1.2,14.6l0.9,0.9c0.7,0.7,1.9,0.8,2.5,0.1c0.2-0.2,0.3-0.4,0.4-0.6c-0.6-0.3-1.1-0.7-1.6-1.2 c-0.6-0.6-1.1-1.3-1.5-2.1c-0.3,0.1-0.6,0.2-0.8,0.4C0.4,12.7,0.5,13.9,1.2,14.6z"></path>
</svg>
        Support</a></li>
    <li>
      <a href="https://blog.travis-ci.com/category/travisci/" class="">
        <svg width="15" height="15" class="nav-icon--fill" xmlns="http://www.w3.org/2000/svg" version="1.1" id="TravisFavicon" x="0px" y="0px" viewBox="0 0 15 16.6" style="enable-background:new 0 0 15 16.6;" space="preserve">
  <title>Simple version of Mr T</title>
  <path fill="#d9d9d9" d="M0.4,8C0.3,8,0.2,8,0.2,8C0.1,7.9,0,7.8,0,7.7l0-2.6C0,5,0.1,4.9,0.2,4.9C1.6,4.1,4.6,4,4.7,4c0.2,0,0.3,0.1,0.3,0.3 S4.9,4.6,4.8,4.6c0,0-2.8,0.1-4.1,0.7l0,2c0.9-0.2,3.6-0.6,7-0.6h0.1c3.4,0,5.7,0.4,6.6,0.6l0-2c-1.4-0.6-4.1-0.7-4.1-0.7 c-0.2,0-0.3-0.2-0.3-0.3S10.1,4,10.3,4c0.1,0,3.1,0.1,4.6,0.9C14.9,4.9,15,5,15,5.1l0,2.6c0,0.1,0,0.2-0.1,0.2 C14.8,8,14.7,8.1,14.6,8c0,0-2.6-0.6-6.8-0.6H7.7C3.4,7.4,0.4,8,0.4,8C0.4,8,0.4,8,0.4,8z"></path>
  <path fill="#d9d9d9" d="M13.7,5.1c-0.1,0-0.3-0.1-0.3-0.2c-0.5-1.7-1.6-3-3.3-3.7C8.7,0.6,7.5,0.6,7.5,0.6h0c0,0-1.2,0-2.5,0.5 C3.2,1.9,2.1,3.1,1.6,4.8C1.6,5,1.4,5.1,1.3,5C1.1,5,1,4.8,1,4.7c0.5-1.9,1.8-3.3,3.7-4.1C6.2,0,7.4,0,7.5,0h0 c0.1,0,1.3,0,2.7,0.6c1.9,0.8,3.2,2.2,3.7,4.1C14,4.8,13.9,5,13.7,5.1C13.7,5.1,13.7,5.1,13.7,5.1z"></path>
  <path fill="#d9d9d9" d="M12.2,11.4C12.2,11.4,12.2,11.4,12.2,11.4l-3-0.2C9.1,11.2,9,11.1,9,11L7.9,9.1h-1L5.7,11c-0.1,0.1-0.1,0.2-0.3,0.2 l-3,0.2c-0.1,0-0.2,0-0.3-0.1l-1-1.2c0,0-0.1-0.1-0.1-0.2L1,7.6c0-0.2,0.1-0.3,0.3-0.3c0.2,0,0.3,0.1,0.3,0.3l0.2,2.1l0.8,1 l2.6-0.2l1.1-2c0.1-0.1,0.2-0.2,0.3-0.2H8c0.1,0,0.2,0.1,0.3,0.2l1.1,2l2.6,0.2l0.8-1l0.2-2.1c0-0.2,0.2-0.3,0.3-0.3 c0.2,0,0.3,0.2,0.3,0.3l-0.2,2.2c0,0.1,0,0.1-0.1,0.2l-1,1.2C12.4,11.3,12.3,11.4,12.2,11.4z"></path>
  <path fill="#d9d9d9" d="M3.4,15.8c-0.1,0-0.2,0-0.2-0.1l-2.7-3.1c-0.1-0.1-0.1-0.3,0-0.4c0.1-0.1,0.2-0.2,0.4-0.1l2,0.9l2.1-0.5L6,11.5 c0.1-0.1,0.2-0.1,0.3-0.1L7.6,12l1.1-0.6c0.1-0.1,0.2,0,0.3,0l1.3,0.9l1.7,0.1l1.6-0.9c0.1-0.1,0.3-0.1,0.4,0 c0.1,0.1,0.1,0.2,0.1,0.4l-1,2.2c0,0.1-0.1,0.1-0.2,0.2l-3.5,1.2c-0.1,0-0.2,0-0.3,0l-1.4-0.9l-1.3,1c0,0-0.1,0.1-0.2,0.1 L3.4,15.8C3.4,15.8,3.4,15.8,3.4,15.8z M1.9,13.2l1.6,1.9L6,14.9l1.4-1.1c0.1-0.1,0.3-0.1,0.4,0l1.5,1l3.2-1.1l0.5-1.2L12.3,13 c-0.1,0-0.1,0-0.2,0L10.2,13c-0.1,0-0.1,0-0.2-0.1l-1.2-0.9l-1.1,0.6c-0.1,0-0.2,0-0.3,0l-1.3-0.5l-1,0.8c0,0-0.1,0.1-0.1,0.1 l-2.2,0.6c-0.1,0-0.1,0-0.2,0L1.9,13.2z"></path>
  <path fill="#d9d9d9" d="M2.9,13.6c-0.1,0-0.2-0.1-0.3-0.2c-0.3-0.8-0.4-2.2-0.4-2.3c0-0.2,0.1-0.3,0.3-0.3c0.2,0,0.3,0.1,0.3,0.3 c0,0,0.1,1.4,0.3,2.1c0.1,0.2,0,0.3-0.2,0.4C3,13.6,3,13.6,2.9,13.6z"></path>
  <path fill="#d9d9d9" d="M11.9,13.1c-0.1,0-0.1,0-0.2-0.1c-0.1-0.1-0.2-0.3-0.1-0.4c0.4-0.6,0.5-1.8,0.5-1.8c0-0.2,0.2-0.3,0.3-0.3 c0.2,0,0.3,0.2,0.3,0.3c0,0.1-0.1,1.4-0.6,2.1C12.1,13,12,13.1,11.9,13.1z"></path>
  <path fill="#d9d9d9" d="M7.5,16.6c-1.9,0-2.8-1.1-2.8-1.1c-0.1-0.1-0.1-0.3,0.1-0.4C4.9,15,5.1,15,5.2,15.1c0,0,0.7,0.9,2.3,0.9 c1.6,0,2.9-1.4,2.9-1.4c0.1-0.1,0.3-0.1,0.4,0c0.1,0.1,0.1,0.3,0,0.4C10.8,15,9.4,16.6,7.5,16.6z"></path>
  <path fill="#d9d9d9" d="M8.1,6.3H6.7C6.6,6.3,6.4,6.2,6.4,6V3.5H5.7c-0.2,0-0.3-0.1-0.3-0.3c0-1.3,0-1.3,0.1-1.4c0.1-0.1,0.1-0.1,0.2-0.1h3.8 c0.2,0,0.3,0.1,0.3,0.3v1.3c0,0.2-0.1,0.3-0.3,0.3h-1V6C8.4,6.2,8.2,6.3,8.1,6.3z M7.1,5.7h0.7V3.2c0-0.2,0.1-0.3,0.3-0.3h1V2.3 H5.9c0,0.2,0,0.4,0,0.6h0.8c0.2,0,0.3,0.1,0.3,0.3V5.7z"></path>
  <circle fill="#d9d9d9" cx="10.7" cy="9" r="0.7"></circle>
  <circle fill="#d9d9d9" cx="4" cy="9" r="0.7"></circle>
</svg>
        Travis CI</a></li>
  </ul>
</nav>

  <article class="article article-padding">

    <header class="article-header">
  
    <h1 class="article-title">Extensive Python Testing on Travis CI</h1>
  
  <p class="article-meta">
    <span><time datetime="2020-11-01T00:00:00+0000">Nov  1, 2020</time></span>
 |
    
  

    
      <span class="author">Paul Gordon</span>
    

  

 |
    
    <a href="https://blog.travis-ci.com/category/support/" title="Go to &#39;support&#39; category" class="category-label">support</a>
    
  </p>
</header>


    <div class="article-main">
      <p>Say you have an open source Python project or package you are maintaining. You probably want to test it on the major Python versions that are currently in wide use. You definitely <strong>should</strong>. In some cases you might also need to test it on different operating systems. I’ll discuss both scenarios, and suggest a way to do just that, in this post.</p>

<p>Not a Travis CI user yet? <a href="https://travis-ci.com/signup?utm_source=tciblog&amp;utm_medium=blogpost&amp;utm_campaign=blog_cta">Sign up today!</a></p>

<!--more-->
<p>For the sake of this post I’m going to assume you are:</p>

<ol>
  <li>Hosting your <strong>open source</strong> project on GitHub. (If a it’s private project, this guide also works, but please head over to travis-ci.com instead)</li>
  <li>Using <code class="highlighter-rouge">pytest</code> to test your code.</li>
  <li>Checking for code coverage.</li>
  <li>You want to submit coverage stats to the free service <a href="https://codecov.io/gh/shaypal5/cachier">codecov.io</a> to have a nice <a href="https://github.com/shaypal5/pdpipe">dynamic test coverage badge on your repo</a>.</li>
</ol>

<p>Just because it’s a nice simple flow to follow, and it’s the one that I use. The method presented here, however, can be easily adapted to other flows.</p>

<p>The post below walks you through the stages and rational for the structure of the <a href="https://gist.github.com/shaypal5/7fd766933fb265af6f71a88cb91dd08c">resulting .travis.yml file</a>,
which covers testing on different Python versions and operating systems thoroughly. If you’re not interested in all that, you can just take a look at the final result in a <a href="https://towardsdatascience.com/extensive-python-testing-on-travis-ci-4c24db9bf961">GitHub gist I created for it</a>.</p>

<h2 id="basic-python-testing-with-travis">Basic Python Testing with Travis</h2>

<p>A great way to test your code on several Python versions is to use the <a href="https://travis-ci.com/">Travis CI</a> service, which offers (among other features) cloud-based, continuous testing, free for open source (i.e. public) GitHub projects. Let me briefly introduce you to basic Python testing with Travis. Feel free to <a href="https://blog.travis-ci.com/2019-08-07-extensive-python-testing-on-travis-ci#Build-Matrices-and-Python-37">skip ahead if you are familiar with the topic</a>.</p>

<p>To use <a href="https://travis-ci.com/">Travis CI</a> simply follow these three steps:</p>

<ol>
  <li>Sign up to Travis with GitHub, allowing Travis some access to you projects.</li>
  <li>Enable Travis for the repository you want to test in your repositories page.</li>
  <li>Place a <code class="highlighter-rouge">.travis.yml</code> file in the root of your repository; this file will tell Travis how this specific project should be built and tested.</li>
</ol>

<h3 id="travisyml-files"><code class="highlighter-rouge">.travis.yml</code> files</h3>
<p>So let’s say you have a <a href="https://github.com/shaypal5/skift">small Python package</a>, with a simple <a href="https://github.com/shaypal5/skift/blob/master/setup.py"><code class="highlighter-rouge">setup.py</code></a> file. And you have the following very basic <code class="highlighter-rouge">.travis.yml</code> that runs your tests through several Python versions:</p>

<div class="language-yaml highlighter-rouge"><pre class="highlight language-yaml"><code class=" language-yaml"><span class="token key atrule">language</span><span class="token punctuation">:</span> python
<span class="token key atrule">python</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> <span class="token number">2.7</span>
  <span class="token punctuation">-</span> <span class="token number">3.5</span>
  <span class="token punctuation">-</span> <span class="token number">3.6</span>
<span class="token key atrule">before_install</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> python <span class="token punctuation">-</span><span class="token punctuation">-</span>version
  <span class="token punctuation">-</span> pip install <span class="token punctuation">-</span>U pip
  <span class="token punctuation">-</span> pip install <span class="token punctuation">-</span>U pytest
  <span class="token punctuation">-</span> pip install codecov
<span class="token key atrule">install</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> pip install ".<span class="token punctuation">[</span>test<span class="token punctuation">]</span>" . <span class="token comment"># install package + test dependencies</span>
<span class="token key atrule">script</span><span class="token punctuation">:</span> pytest <span class="token comment"># run tests</span>
<span class="token key atrule">after_success</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> codecov <span class="token comment"># submit coverage</span>
</code></pre>
</div>

<p>Let’s go over each part of the above file:</p>

<ul>
  <li>The <strong>first line</strong> states that we are building a Python project.</li>
  <li>The <strong>second entry</strong> details the Python versions we want to build for: 2.7, 3.5 and 3.6.</li>
  <li>
    <p>The <strong>third entry</strong> details, in order, the set of pre-install commands we want to run. I use four commands:</p>

    <p>(1) <code class="highlighter-rouge">python --version</code> to see the exact Python version I’m running.</p>

    <p>(2) <code class="highlighter-rouge">pip install -U pip</code> because you always have to work with the most updated pip. Some builds will fail without this (e.g. Python 2.7, for me).</p>

    <p>(3) <code class="highlighter-rouge">pip install -U pytest</code> — I have settled on always doing this, as this again saves me from failures.
For some of my current projects, Python 3.6 will fail if I only <code class="highlighter-rouge">pip install pytest</code> without the <code class="highlighter-rouge">-U</code> to update.</p>

    <p>(4) <code class="highlighter-rouge">pip install codecov</code> — Since I only use this on Travis, and not locally, this is not part of the extra <code class="highlighter-rouge">[test]</code> dependencies of my package.</p>
  </li>
  <li>The <strong>fourth entry</strong> details installation commands. In this case, since commands are run in the repository’s root folder,
and we have a pip-installable package, we <code class="highlighter-rouge">pip install</code> “this” folder (so <code class="highlighter-rouge">.</code> ) with the optional test dependencies.
Test dependencies for my package are usually <code class="highlighter-rouge">pytest</code>, <code class="highlighter-rouge">coverage</code> and <code class="highlighter-rouge">pytest-cov</code> that integrates the two.</li>
  <li>
    <p>The <strong>fifth entry</strong> details the build/test script to run. We simply want to run <code class="highlighter-rouge">pytest</code>. I’m assuming that you detail all the nice CLI
arguments for <code class="highlighter-rouge">pytest</code> in a <code class="highlighter-rouge">pytest.ini</code> file. This will help keep the <code class="highlighter-rouge">.travis.yml</code> file cleaner when we start adding stuff.
Here’s an example for <code class="highlighter-rouge">pytest.ini</code>:</p>

    <div class="highlighter-rouge"><pre class="highlight"><code>  [pytest]
  testpaths =
      tests
      skift
  norecursedirs=dist build .tox scripts
  addopts =
      --doctest-modules
      --cov=skift
      -r a
      -v
</code></pre>
    </div>
  </li>
  <li>The <strong>final entry</strong> details commands to run after the test script finishes successfully. In our case, we just want to report test coverage results to <a href="https://codecov.io/gh/shaypal5/cachier">codecov.io</a>, so we run the command of the corresponding package. It will take the coverage report generate by our <code class="highlighter-rouge">pytest</code> run and post it there. If you want coverage results for any build — failed or successful — just make this line the second item of the <code class="highlighter-rouge">script</code> entry.</li>
</ul>

<h3 id="travis-builds">Travis builds</h3>

<p>With this configuration, every commit to your repository will trigger a nice build for the corresponding project on Travis CI,with each build being composed of one job per Python version (all on Linux machines), like so:</p>

<p><img src="./The Travis CI Blog_ Extensive Python Testing on Travis CI_files/1-travis-build-several-jobs.png" alt="A travis build consisting of several jobs"></p>

<p>You can also go into the log of each job and see the results of each command — either live or post factum:</p>

<p><img src="./The Travis CI Blog_ Extensive Python Testing on Travis CI_files/2-job-log-travis-ci.png" alt="A log for a specific job in a Travis build"></p>

<p>Another way to test your Python code on several Python versions is to use <a href="https://tox.readthedocs.io/en/latest/">tox, a powerful tool for automation and standardization of Python tests</a>. I’m advocating for the above method because its <em>one job == one Python version</em> approach means builds finish faster (as up to three jobs run in parallel on Travis), and that you can immediately understand which version is giving you trouble without diving into the log. That’s just my personal preference, of course.</p>

<h3 id="things-take-a-dark-turn">Things take a dark turn…</h3>

<p>The first complication in multi-version Python testing arises when we try to use Python versions that may not all be available on the same Ubuntu distribution. For example Ubuntu 14.04, <code class="highlighter-rouge">dist: trusty</code>, doesn’t support Python <code class="highlighter-rouge">3.7</code>.</p>

<p>To ensure compatibility, even if you’re running Linux builds on the current default, it’s better to pin the Ubuntu distribution that works for your project. In this case, we’ll pin it to Ubuntu 16.04 (nicknamed <code class="highlighter-rouge">xenial</code>),  which is the current Travis CI default for Linux builds.</p>

<p>You can explicitly use Ubuntu 16.04 which supports all the Python versions we want, by adding a <code class="highlighter-rouge">dist: xenial</code> entry to your <code class="highlighter-rouge">.travis.yml</code> file.</p>

<p>But what if you prefer testing lower versions on Ubuntu 14.04, and use <code class="highlighter-rouge">xenial</code> only for Python 3.7?</p>

<p>While it’s probably a negligible corner case, it will allow me to introduce Travis build matrices in a gradual manner, and these will prove to be crucial later on, so just go with me here.</p>

<h2 id="build-matrices-and-python-37">Build Matrices and Python 3.7</h2>

<p>There are two ways to specify multiple parallel jobs in Travis. The first is to provide multiple options to more than one entry effecting the build environment; a <a href="https://docs.travis-ci.com/user/build-matrix/">build matrix</a> of all possible combinations is automatically created and ran. For example, the following configuration produces a build matrix that expands to 4 individual (2 * 2 ) jobs:</p>

<div class="language-yaml highlighter-rouge"><pre class="highlight language-yaml"><code class=" language-yaml"><span class="token key atrule">language</span><span class="token punctuation">:</span> python
<span class="token key atrule">python</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> <span class="token number">2.7</span>
  <span class="token punctuation">-</span> <span class="token number">3.5</span>
<span class="token key atrule">env</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> PARALLELIZE=true
  <span class="token punctuation">-</span> PARALLELIZE=false
</code></pre>
</div>

<p>The second is to specify the exact combination of configurations you want in <code class="highlighter-rouge">matrix.include</code>. Continuing the above example, if parallelization is not available for Python 2.7, you might prefer specifying three specific jobs:</p>

<div class="language-yaml highlighter-rouge"><pre class="highlight language-yaml"><code class=" language-yaml"><span class="token key atrule">language</span><span class="token punctuation">:</span> python
<span class="token key atrule">matrix</span><span class="token punctuation">:</span>
  <span class="token key atrule">include</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> <span class="token key atrule">python</span><span class="token punctuation">:</span> <span class="token number">2.7</span>
    PARALLELIZE=false
  <span class="token punctuation">-</span> <span class="token key atrule">python</span><span class="token punctuation">:</span> <span class="token number">3.5</span>
    PARALLELIZE=false   
  <span class="token punctuation">-</span> <span class="token key atrule">python</span><span class="token punctuation">:</span> <span class="token number">3.5</span>
    PARALLELIZE=true
</code></pre>
</div>

<p>Or, in our case, to run a Python 3.7 job on <code class="highlighter-rouge">xenial</code>, add a single job entry:</p>

<p><img src="./The Travis CI Blog_ Extensive Python Testing on Travis CI_files/3-single-job-entry-travis-ci.png" alt="A single job entry"></p>

<p>Cool. So we saw two ways to test Python 3.7 — the special snowflake of Pythons— on Travis, and got to know Travis build matrices a little bit. Let’s move on.</p>

<h2 id="testing-python-projects-on-additional-os">Testing Python Projects on Additional OS</h2>

<p>So, you’re testing your simple pure-Python package on every important major version of Python. You’re a responsible open-source contributor. Yay for you.</p>

<p>But what if your Python project is not a pure-blood, but a muggle containing some specialized C++ code? Or maybe your code is pure-Python, but it interacts with the operating system (e.g. writing files, juggling threads or processes, etc.) in a non-trivial way, that can differ between operating systems?</p>

<p>If that’s the case, you definitely should test your code (and possibly also build it) on all three major OS, if you want your project to support them.</p>

<p>For myself, the need arose on two projects, both pure Python:</p>

<ol>
  <li>The first is <a href="https://github.com/shaypal5/cachier"><em>Cachier</em></a>, a package providing persistent, stale-free, local and cross-machine caching for Python functions. I had to lock files for multi-thread safety when writing to them, and it turned out the built-in solution I had (using <code class="highlighter-rouge">fcntl</code>) broke the first time a Windows user tried to use my package.</li>
  <li>The second is <a href="https://github.com/shaypal5/skift"><em>Skift</em></a>, which implements <a href="https://scikit-learn.org/stable/"><em>scikit-learn</em></a> wrappers for Python <a href="https://github.com/facebookresearch/fastText/tree/master/python"><em>fastText</em></a>. The implementation required writing and reading files in different encodings, which turned out to behave differently on different operating systems in some cases.</li>
</ol>

<p>The solution I’ve settled on was expanding the Travis build matrix to include specific combinations of operating systems and major Python versions, each to be run in it’s own job, on a totally separate environment.</p>

<p>Again, when comparing this approach to using <code class="highlighter-rouge">tox</code>, I’ll say the main advantages are:</p>

<ol>
  <li>Offloading complexity and responsibility from you to Travis.</li>
  <li>Getting more accurate representations of real-life environments: pure Python installations of a single version directly at the OS-level, instead of through tox. This is how most users of small, open-source Python projects will install your code.</li>
  <li><em>One job == one OS version and one Python version</em>. You can immediately see if a build failed because your tests fail on a specific Python version (e.g. 2.7 on all operating systems), a specific OS (all Python versions on Windows) or on specific combinations. This is extremely visible from the jobs view:</li>
</ol>

<p><img src="./The Travis CI Blog_ Extensive Python Testing on Travis CI_files/4-multi-os-testing-travis-ci.png" alt="We obviously have a Linux-related build problem"></p>

<p>Hopefully I’ve convinced you this is a valid approach to multi-OS testing, so we can move to the specifics. We’ll start with testing on macOS and finish with Windows.</p>

<h3 id="testing-python-projects-on-macos">Testing Python projects on macOS</h3>

<p>At the time of writing, <a href="https://docs.travis-ci.com/user/languages/python/">Python builds are not available on the macOS environment</a>. This doesn’t mean it’s impossible to test Python on macOS with Travis, just that the following naive approach won’t work:</p>

<div class="language-yaml highlighter-rouge"><pre class="highlight language-yaml"><code class=" language-yaml"><span class="token key atrule">matrix</span><span class="token punctuation">:</span>
  <span class="token key atrule">include</span><span class="token punctuation">:</span>
    <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> <span class="token string">"Generic Python 3.5 on macOS"</span>
      <span class="token key atrule">os</span><span class="token punctuation">:</span> osx
      <span class="token key atrule">language</span><span class="token punctuation">:</span> shell  <span class="token comment"># 'language: python' is an error on Travis CI macOS</span>
      <span class="token key atrule">python</span><span class="token punctuation">:</span> <span class="token number">3.5</span>
</code></pre>
</div>

<p>Whatever the version number you assign to the <code class="highlighter-rouge">python</code> key, you’ll get a macOS machine with Python 3.6.5 installed. This is because asking for a machine with <code class="highlighter-rouge">os: osx</code> spins up a machine using the default Xcode image, <a href="https://docs.travis-ci.com/user/reference/osx/">which is currently Xcode 9.4.1 for Travis</a>.</p>

<p>The current hack-ish way to get a macOS machine with a specific Python version is to ask for a specific Xcode image, using the <code class="highlighter-rouge">osx_image</code> tag, which you know comes preinstalled with the Python version you want to use.</p>

<p>For example, to get a machine with Python 3.7 you can add the entry of <code class="highlighter-rouge">osx_image: xcode10.2</code> (you’ll get Python 3.7.3, specifically). Cool. So how do you know which Xcode image comes with which Python version? Unfortunately, this mapping is not listed anywhere on Travis’ website or documentation.</p>

<p>Luckily for you, however, I did the dirty work and dug this information up. This basically entailed <a href="https://blog.travis-ci.com/search?q=xcode+python">actively searching the Travis blog for posts on Xcode images releases</a> to hunt down the Python versions on each image. The latest releases of major Python versions I have found are:</p>

<ul>
  <li><code class="highlighter-rouge">xcode9.3</code> — Comes pre-installed with Python 2.7.14_2</li>
  <li><code class="highlighter-rouge">xcode9.4</code> — Comes pre-installed with Python 3.6.5</li>
  <li><code class="highlighter-rouge">xcode10.2</code> — Comes pre-installed with Python 3.7.3</li>
</ul>

<p>Unfortunately, I haven’t found a Travis Xcode image to come preinstalled with Python 3.5 (let me know if you do!).</p>

<p>So you got the right Xcode tag. You still, however, need to adapt some of the build commands. For Python 3 versions, for example, we need to explicitly call <code class="highlighter-rouge">pip3</code> and <code class="highlighter-rouge">python3</code> to install and call (respectively) Python 3 code, since macOS comes preinstalled with Python 2 (which is what the <code class="highlighter-rouge">python</code> command points to):</p>

<div class="language-yaml highlighter-rouge"><pre class="highlight language-yaml"><code class=" language-yaml"><span class="token key atrule">matrix</span><span class="token punctuation">:</span>
  <span class="token key atrule">include</span><span class="token punctuation">:</span>      
    <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> <span class="token string">"Python 3.6.5 on macOS 10.13"</span>
      <span class="token key atrule">os</span><span class="token punctuation">:</span> osx
      <span class="token key atrule">osx_image</span><span class="token punctuation">:</span> xcode9.4  <span class="token comment"># Python 3.6.5 running on macOS 10.13</span>
      <span class="token key atrule">language</span><span class="token punctuation">:</span> shell  <span class="token comment"># 'language: python' is an error on Travis CI macOS</span>
      <span class="token key atrule">before_install</span><span class="token punctuation">:</span>
        <span class="token punctuation">-</span> python3 <span class="token punctuation">-</span><span class="token punctuation">-</span>version
        <span class="token punctuation">-</span> pip3 install <span class="token punctuation">-</span>U pip
        <span class="token punctuation">-</span> pip3 install <span class="token punctuation">-</span>U pytest
        <span class="token punctuation">-</span> pip3 install codecov
      <span class="token key atrule">script</span><span class="token punctuation">:</span> python3 <span class="token punctuation">-</span>m pytest
      <span class="token key atrule">after_success</span><span class="token punctuation">:</span> python 3 <span class="token punctuation">-</span>m codecov
</code></pre>
</div>

<p>Considering this, you would have thought that a Python 2 job would require less custom entries.
Unfortunately, because we’re using the OS Python, pip installation commands need to be appended with the <code class="highlighter-rouge">--user</code> flags for Python 2.
Moreover, as a result their CLI commands won’t be installed, so we’ll again have to call their commands through the <code class="highlighter-rouge">python</code> command:</p>

<div class="language-yaml highlighter-rouge"><pre class="highlight language-yaml"><code class=" language-yaml"><span class="token key atrule">matrix</span><span class="token punctuation">:</span>
  <span class="token key atrule">include</span><span class="token punctuation">:</span>
    <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> <span class="token string">"Python 2.7.14 on macOS 10.13"</span>
      <span class="token key atrule">os</span><span class="token punctuation">:</span> osx
      <span class="token key atrule">osx_image</span><span class="token punctuation">:</span> xcode9.3  <span class="token comment"># Python 2.7.14_2 running on macOS 10.13</span>
      <span class="token key atrule">language</span><span class="token punctuation">:</span> shell  <span class="token comment"># 'language: python' errors on Travis CI macOS</span>
      <span class="token key atrule">before_install</span><span class="token punctuation">:</span>
        <span class="token punctuation">-</span> python <span class="token punctuation">-</span><span class="token punctuation">-</span>version
        <span class="token punctuation">-</span> pip install pytest <span class="token punctuation">-</span><span class="token punctuation">-</span>user
        <span class="token punctuation">-</span> pip install codecov <span class="token punctuation">-</span><span class="token punctuation">-</span>user
      <span class="token key atrule">install</span><span class="token punctuation">:</span> pip install ".<span class="token punctuation">[</span>test<span class="token punctuation">]</span>" <span class="token punctuation">-</span><span class="token punctuation">-</span>user
      <span class="token key atrule">script</span><span class="token punctuation">:</span> python <span class="token punctuation">-</span>m pytest  <span class="token comment"># pytest command won't be found</span>
      <span class="token key atrule">after_success</span><span class="token punctuation">:</span> python  <span class="token punctuation">-</span>m codecov  <span class="token comment"># codecov command won't be found</span>
</code></pre>
</div>

<p>Good, we’re done with testing Python on macOS. Have a cookie.</p>

<p><img src="./The Travis CI Blog_ Extensive Python Testing on Travis CI_files/5-have-a-cookie.png" alt="A cookie"></p>

<h3 id="testing-python-projects-on-windows">Testing Python projects on Windows</h3>

<p>Travis support for Windows builds is in an early access stage. Currently, only Windows Server (version 1803) is supported. This doesn’t come with Python, but does come with Chocolatey, a package manager for Windows, which we’re going to use to install Python.</p>

<p>Since we are using Chocolatey to install Python, we are limited to the versions available through it. For Python 3, these are 3.5.4, 3.6.8 and 3.7.4. For Python 2, version 2.7.16 is currently the one installed by default.</p>

<p>Here’s a simple variation of a job entry to get a Windows-Python job, which includes the Chocolatey install command <code class="highlighter-rouge">choco</code> and an environment variable setup:</p>

<div class="language-yaml highlighter-rouge"><pre class="highlight language-yaml"><code class=" language-yaml"><span class="token key atrule">matrix</span><span class="token punctuation">:</span>
  <span class="token key atrule">include</span><span class="token punctuation">:</span>
    <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> <span class="token string">"Python 3.5.4 on Windows"</span>
      <span class="token key atrule">os</span><span class="token punctuation">:</span> windows           <span class="token comment"># Windows 10.0.17134 N/A Build 17134</span>
      <span class="token key atrule">language</span><span class="token punctuation">:</span> shell       <span class="token comment"># 'language: python' is an error on Travis CI Windows</span>
      <span class="token key atrule">before_install</span><span class="token punctuation">:</span>
        <span class="token punctuation">-</span> choco install python <span class="token punctuation">-</span><span class="token punctuation">-</span>version 3.5.4
        <span class="token punctuation">-</span> python <span class="token punctuation">-</span><span class="token punctuation">-</span>version
        <span class="token punctuation">-</span> python <span class="token punctuation">-</span>m pip install <span class="token punctuation">-</span><span class="token punctuation">-</span>upgrade pip
        <span class="token punctuation">-</span> pip3 install <span class="token punctuation">-</span><span class="token punctuation">-</span>upgrade pytest
        <span class="token punctuation">-</span> pip3 install codecov
      <span class="token key atrule">env</span><span class="token punctuation">:</span> PATH=/c/Python35<span class="token punctuation">:</span>/c/Python35/Scripts<span class="token punctuation">:</span>$PATH
</code></pre>
</div>

<p>As you can see, the generic <code class="highlighter-rouge">script</code> and <code class="highlighter-rouge">after_success</code> phases work just fine. You can take a look at <a href="https://gist.github.com/shaypal5/7fd766933fb265af6f71a88cb91dd08c">the final file</a> to see the slight variation required for each version, including Python 2.7.</p>

<h2 id="final-notes">Final Notes</h2>

<p>We have covered by now almost each and every combination of common operating system and important Python version. Combining the bits and pieces we looked at above, we can come up with a not-so-short <code class="highlighter-rouge">.travis.yml</code> file that provides comprehensive testing for Python projects, which you can find in a <a href="https://gist.github.com/shaypal5/7fd766933fb265af6f71a88cb91dd08c">Github gist</a> I’ve created.</p>

<p>I do, however, want to add a few final notes before I end this post.</p>

<h3 id="allowing-failures-and-fast-finishes">Allowing failures and fast finishes</h3>

<p>In some cases you might want to test your code continuously on specific OS-Version combinations that you expect to fail, like when certain tests fail on Windows but you are gearing towards adding Windows support in the near future. In that case, it is better to not have the entire build fail because of such jobs, so you don’t get annoying build failure notifications (and also because you can then show off a nice and shiny “build: passing” badge on your repo).</p>

<p><img src="./The Travis CI Blog_ Extensive Python Testing on Travis CI_files/6-gandalf-image.jpg" alt="Gandalf being upset about a failing Windows job"></p>

<p>You can achieve this by adding an allow_failures entry under the matrix entry, detailing key-value pairs for which jobs are allowed to fail. For example, to have Python 3.7 on macOS allowed to fail, use:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>matrix:
  - allow_failures:
      - os: osx
        osx_image: xcode 10.2
</code></pre>
</div>

<p>Setting <code class="highlighter-rouge">- os: windows</code> will allow all Windows builds to fail.</p>

<p>Additionally, if you’re already using the <code class="highlighter-rouge">allow_failures</code> logic, you might want to take advantage of the <code class="highlighter-rouge">fast_finish</code> capability.
Setting <code class="highlighter-rouge">fast_finish: true</code> will determine the overall build status — pass or fail — as soon as all jobs which are not allowed to fail
are done, while the rest of the jobs keep running. This is usually not crucial in small open-source projects, but it’s nice to have,
especially if jobs on some exotic OS or Python version are allowed to fail <strong>and</strong> take a lot of time.</p>

<h3 id="testing-against-development-branches">Testing against development branches</h3>

<p>You can test your code against the development branches of different Python versions by adding the respective entry, like <code class="highlighter-rouge">3.7-dev</code>
under the <code class="highlighter-rouge">python</code> key. An important development branch to test against might be <code class="highlighter-rouge">3.8-dev</code>, to prepare for what’s to come. You probably also want to allow all jobs using development branches to fail.</p>

<h3 id="python-version-or-os-based-logic">Python version or OS-based logic</h3>

<p>The solution I’ve presented puts most of the special code for macOS and Windows builds in the build matrix.</p>

<p>However, if you have some installation or testing code that is specific to Python version but should be run across all OS, you can condition commands on the value of the respective Travis’ environment variable:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>if [ "$TRAVIS_PYTHON_VERSION" == "2.7" ]; then pip install . ancient_testing_packge; else pip install ".[test]"; fi
</code></pre>
</div>

<p>To do same thing across all jobs for the same OS, use:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>if ["$TRAVIS_OS_NAME" == "linux"]; then pip install . special_linux_packge; else pip install ".[test]"; fi
</code></pre>
</div>

<p>Of course, if that is the case, you should probably consider handling this more cleanly in your <code class="highlighter-rouge">setup.py</code> file, by building the <code class="highlighter-rouge">extras_require</code> for <code class="highlighter-rouge">test</code> dynamically, based on Python version or OS (inferring it using Python code).</p>

<p>Thank you for reading through this post. I hope you have found it useful. :)</p>

<p>Again, you can take a look at the full resulting <code class="highlighter-rouge">.travis.yml</code> file in a dedicated <a href="https://gist.github.com/shaypal5/7fd766933fb265af6f71a88cb91dd08c">Github gist</a>.</p>

<h2 id="about-the-author">About the Author</h2>

<p><a href="http://www.shaypalachy.com/">Shay Palachy</a> is a data science consultant and a co-founder of the <a href="https://www.datahack.org.il/">DataHack non-profit</a>.</p>

<p>Not a Travis CI user yet? <a href="https://travis-ci.com/signup?utm_source=tciblog&amp;utm_medium=blogpost&amp;utm_campaign=blog_cta">Sign up for an account today!</a>!</p>

<p>Looking for something more bespoke for your builds? <a href="https://landing.travis-ci.com/enterprise/?utm_source=tciblog&amp;utm_medium=blogpost&amp;utm_campaign=blog_cta">Try a free trial of Travis CI Enterprise</a>.</p>


    </div>

    <footer class="m-t-l">
      <aside class="tags">
  
    
      <a href="https://blog.travis-ci.com/tags/guest" title="Go to &#39;guest&#39; tags page " class="tag">
        <svg width="15" height="15" class="tag-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 17.3 17.3">
  <title>Tag icon</title>
  <path d="M12.86 6.94l-.7-4.64-4.58-.65L.65 8.58l5.29 5.29 6.92-6.93z"></path>
  <path d="M10.3 4.04l1.23-1.23c1.17-1.17 3.07-1.17 4.24 0s1.17 3.07 0 4.24l-2.96 2.97-3.74 3.74c-.45.45-.45 1.18 0 1.63l.14.14c.45.45 1.18.45 1.63 0l.56-.56"></path>
  <ellipse transform="rotate(-45.001 9.645 4.882)" cx="9.65" cy="4.88" rx="1.23" ry="1.23"></ellipse>
</svg>
      guest</a>
    
      <a href="https://blog.travis-ci.com/tags/community" title="Go to &#39;community&#39; tags page " class="tag">
        <svg width="15" height="15" class="tag-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 17.3 17.3">
  <title>Tag icon</title>
  <path d="M12.86 6.94l-.7-4.64-4.58-.65L.65 8.58l5.29 5.29 6.92-6.93z"></path>
  <path d="M10.3 4.04l1.23-1.23c1.17-1.17 3.07-1.17 4.24 0s1.17 3.07 0 4.24l-2.96 2.97-3.74 3.74c-.45.45-.45 1.18 0 1.63l.14.14c.45.45 1.18.45 1.63 0l.56-.56"></path>
  <ellipse transform="rotate(-45.001 9.645 4.882)" cx="9.65" cy="4.88" rx="1.23" ry="1.23"></ellipse>
</svg>
      community</a>
    
  
</aside>

    </footer>
  </article>
</div>

<aside>
  <section class="feedback a-c p-t-m p-b-m">
  <div class="layout-inner">
    <img src="./The Travis CI Blog_ Extensive Python Testing on Travis CI_files/TravisCI-Mascot-1.svg" alt="Travis CI mascot Mr T">
    <div class="feedback-cta">
      <h2 class="h2--green">Questions or feedback?</h2>
      <p>Let us know what you're thinking by emailing <a href="mailto:support@travis-ci.com" title="Email Travis support">support@travis-ci.com</a>!</p>
    </div>
    <img src="./The Travis CI Blog_ Extensive Python Testing on Travis CI_files/Tessa-4.svg" alt="Travis CI mascot Tessa">
  </div>
</section>

  <section class="related-posts">
  <div class="layout-inner">
    <div class=" p-t-m p-b-xl">
    <h3 class="h3 a-c">You might enjoy reading</h3>

    <ul class="related-list">
    
    
    

    

      
      

      

      
      <li>
        <a href="https://blog.travis-ci.com/2021-08-06-oss-equinix" title="Read &#39;Introducing: Armv8 Equinix Metal for super fast builds in OSS&#39;">
          <h4>Introducing: Armv8 Equinix Metal for super fast builds in OSS</h4>
          <p>![TCI-Arm graphic-revised](https://user-images.githubusercontent.com/20936398/128562445-1f8127d8-...</p>
          <p class="related-more">
            Read post
            <svg width="15" height="15" class="related-icon" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" viewBox="0 0 13.7 9.1">
  <line class="st0" x1="11.6" y1="4.8" x2="1.2" y2="4.8"></line>
  <polyline class="st1" points="9.2,1.2 12.5,4.9 9.2,8.1"></polyline>
</svg>
          </p>
        </a>
      </li>
      
        
      

    

      
      

      

      
      <li>
        <a href="https://blog.travis-ci.com/2021-08-05-auto-refill" title="Read &#39;New Credit Auto-Refill Feature&#39;">
          <h4>New Credit Auto-Refill Feature</h4>
          <p>![TCI-Graphics for AdsBlogs (2)](https://user-images.githubusercontent.com/20936398/128780735-79c...</p>
          <p class="related-more">
            Read post
            <svg width="15" height="15" class="related-icon" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" viewBox="0 0 13.7 9.1">
  <line class="st0" x1="11.6" y1="4.8" x2="1.2" y2="4.8"></line>
  <polyline class="st1" points="9.2,1.2 12.5,4.9 9.2,8.1"></polyline>
</svg>
          </p>
        </a>
      </li>
      
        
          
    </ul>
    </div>
  </div>
</section>

  <section class="newsletter a-c p-t-l p-b-xl" id="mc_newsletter_signup">
  <div class="layout-inner">
    <h2 class="h2--teal m-b-0">Want updates on new posts?</h2>
    <p class="text--big m-t-0  m-b-m">Sign up for our newsletter, we'll send you coffee tips as well!</p>
    <form action="https://travis-ci.us7.list-manage.com/subscribe/post?u=8ce724a4c9af4dace663cd39c&amp;id=44f8dff14c" class="newsletter-form" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" target="_blank" novalidate="">
      <input type="email" value="" name="EMAIL" class="email" id="mce-EMAIL" placeholder="Email" required="">
      <input type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe" class="square-button">
    </form>
  </div>
</section>

</aside>

      </main>

      <footer class="footer">
  <div class="layout-inner">
    <div class="footer-elem">
      <svg width="142px" height="45.381px" viewBox="0 0 142 45.381" enable-background="new 0 0 142 45.381" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
        <title>Travis CI Mascot</title>
        <image xlink:href="https://styleguide.travis-ci.com/images/logos/travis-footer-logo-new.svg" x="0" y="0" width="142px" height="45.381px"></image>
      </svg>
    </div>

    <div class="footer-elem"></div>

    <div class="footer-elem">
      <h3 class="footer-title">©Travis CI, GmbH</h3>
      <address>Rigaer Straße 8<br>10247 Berlin, Germany</address>
      <ul>
        <li><a href="https://travisci.workable.com/" title="Jobs at Travis CI">Work with Travis CI</a></li>
      </ul>
    </div>

    <div class="footer-elem">
      <h3 class="footer-title">Help</h3>
      <ul>
        <li><a href="https://docs.travis-ci.com/" title="Travis CI Docs">Documentation</a></li>
        <li><a href="https://changelog.travis-ci.com/">Changelog</a></li>
        <li><a href="https://blog.travis-ci.com/" title="Travis CI Blog">Blog</a></li>
        <li><a href="mailto:support@travis-ci.com" title="Email Travis CI support">Email</a></li>
        <li><a href="https://twitter.com/travisci" title="Travis CI on Twitter">Twitter</a></li>
      </ul>
    </div>

    <div class="footer-elem">
      <h3 class="footer-title">Legal</h3>
      <ul>
        <li><a href="https://docs.travis-ci.com/imprint.html" title="Imprint">Imprint</a></li>
        <li><a href="https://docs.travis-ci.com/legal/terms-of-service/">Terms of Service</a></li>
        <li><a href="https://docs.travis-ci.com/legal/privacy-policy/">Privacy Policy</a></li>
        <li><a href="https://docs.travis-ci.com/legal/security/">Security Statement</a></li>
      </ul>
    </div>

    <div class="footer-elem">
      <h3 class="footer-title">Travis CI Status</h3>
      <ul>
        <li><div class="status-circle status none">Status:</div>
          <a href="http://www.traviscistatus.com/">Travis CI Status</a>
        </li>
      </ul>
    </div>
  </div>
</footer>

<script>
 fetch('https://pnpcptp8xh9k.statuspage.io/api/v2/status.json').then(function(response) {
   return response.json();
 }).then(function(data) {
   if (data.status && data.status.indicator) {
     document.querySelector('.status-circle').classList.add(data.status.indicator);
   }
 });
</script>

    </div>
  

<iframe id="intercom-frame" style="position: absolute !important; opacity: 0 !important; width: 1px !important; height: 1px !important; top: 0 !important; left: 0 !important; border: none !important; display: block !important; z-index: -1 !important; pointer-events: none;" aria-hidden="true" tabindex="-1" title="Intercom" src="./The Travis CI Blog_ Extensive Python Testing on Travis CI_files/saved_resource.html"></iframe><div class="intercom-lightweight-app" aria-live="polite"><style id="intercom-lightweight-app-style" type="text/css">
  @keyframes intercom-lightweight-app-launcher {
    from {
      opacity: 0;
      transform: scale(0.5);
    }
    to {
      opacity: 1;
      transform: scale(1);
    }
  }

  @keyframes intercom-lightweight-app-gradient {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }

  @keyframes intercom-lightweight-app-messenger {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .intercom-lightweight-app {
    position: fixed;
    z-index: 2147483001;
    width: 0;
    height: 0;
    font-family: intercom-font, "Helvetica Neue", "Apple Color Emoji", Helvetica, Arial, sans-serif;
  }

  .intercom-lightweight-app-gradient {
    position: fixed;
    z-index: 2147483002;
    width: 500px;
    height: 500px;
    bottom: 0;
    right: 0;
    pointer-events: none;
    background: radial-gradient(
      ellipse at bottom right,
      rgba(29, 39, 54, 0.16) 0%,
      rgba(29, 39, 54, 0) 72%);
    animation: intercom-lightweight-app-gradient 200ms ease-out;
  }

  .intercom-lightweight-app-launcher {
    position: fixed;
    z-index: 2147483003;
    bottom: 20px;
    right: 20px;
    width: 60px;
    height: 60px;
    border-radius: 50%;
    background: #3eaaaf;
    cursor: pointer;
    box-shadow: 0 1px 6px 0 rgba(0, 0, 0, 0.06), 0 2px 32px 0 rgba(0, 0, 0, 0.16);
    animation: intercom-lightweight-app-launcher 250ms ease;
  }

  .intercom-lightweight-app-launcher:focus {
    outline: none;
    
  }

  .intercom-lightweight-app-launcher-icon {
    display: flex;
    align-items: center;
    justify-content: center;
    position: absolute;
    top: 0;
    left: 0;
    width: 60px;
    height: 60px;
    transition: transform 100ms linear, opacity 80ms linear;
  }

  .intercom-lightweight-app-launcher-icon-open {
    
        opacity: 1;
        transform: rotate(0deg) scale(1);
      
  }

  .intercom-lightweight-app-launcher-icon-open svg {
    width: 28px;
    height: 32px;
  }

  .intercom-lightweight-app-launcher-icon-open svg path {
    fill: rgb(255, 255, 255);
  }

  .intercom-lightweight-app-launcher-icon-self-serve {
    
        opacity: 1;
        transform: rotate(0deg) scale(1);
      
  }

  .intercom-lightweight-app-launcher-icon-self-serve svg {
    height: 56px;
  }

  .intercom-lightweight-app-launcher-icon-self-serve svg path {
    fill: rgb(255, 255, 255);
  }

  .intercom-lightweight-app-launcher-custom-icon-open {
    max-height: 36px;
    max-width: 36px;
    
        opacity: 1;
        transform: rotate(0deg) scale(1);
      
  }

  .intercom-lightweight-app-launcher-icon-minimize {
    
        opacity: 0;
        transform: rotate(-60deg) scale(0);
      
  }

  .intercom-lightweight-app-launcher-icon-minimize svg {
    width: 16px;
  }

  .intercom-lightweight-app-launcher-icon-minimize svg path {
    fill: rgb(255, 255, 255);
  }

  .intercom-lightweight-app-messenger {
    position: fixed;
    z-index: 2147483003;
    overflow: hidden;
    background-color: white;
    animation: intercom-lightweight-app-messenger 250ms ease-out;
    
        width: 376px;
        height: calc(100% - 40px);
        max-height: 704px;
        min-height: 250px;
        right: 20px;
        bottom: 20px;
        box-shadow: 0 5px 40px rgba(0,0,0,0.16);
        border-radius: 8px;
      
  }

  .intercom-lightweight-app-messenger-header {
    height: 75px;
    background: linear-gradient(
      135deg,
      rgb(62, 170, 175) 0%,
      rgb(35, 97, 100) 100%
    );
  }

  @media print {
    .intercom-lightweight-app {
      display: none;
    }
  }
</style></div></body></html>